# Phase 5.3 ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

## ğŸš€ 3ë‹¨ê³„ë¡œ ì™„ë£Œí•˜ëŠ” Phase 5.3 í…ŒìŠ¤íŠ¸

### Step 1ï¸âƒ£: í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„± (5ì´ˆ)

**íŒŒì¼:** `PHASE_5_3_INTEGRATED_TEST.sql`

1. Supabase SQL Editor ì—´ê¸°
2. `PHASE_5_3_INTEGRATED_TEST.sql` íŒŒì¼ ì „ì²´ ë³µì‚¬
3. SQL Editorì— ë¶™ì—¬ë„£ê¸°
4. "Run" ë²„íŠ¼ í´ë¦­
5. âœ… ì™„ë£Œ! (21ì¼ + 30ì¼ í…ŒìŠ¤íŠ¸ ë°ì´í„° ìë™ ìƒì„±)

**ì˜ˆìƒ ì†Œìš” ì‹œê°„:** 5ì´ˆ

**ì˜ˆìƒ ê²°ê³¼:**
```
âœ… STEP 3-1: 21ì¼ Streak ë°ì´í„°
   - habit_name: 21ì¼ ì—°ì† í…ŒìŠ¤íŠ¸ ìŠµê´€
   - total_records: 21
   - green_count: 21

âœ… STEP 3-2: 30ì¼ Mastery ë°ì´í„°
   - habit_name: 30ì¼ ë§ˆìŠ¤í„°ë¦¬ í…ŒìŠ¤íŠ¸
   - total_records: 35
   - green_count: 35

ğŸ“Š STEP 3-4: ì „ì²´ í†µê³„ ìš”ì•½
   - total_weeks: 8
   - total_habits: 8
   - total_records: 56
   - green_records: 56
```

---

### Step 2ï¸âƒ£: UIì—ì„œ Achievement íŠ¸ë¦¬ê±° (3ë¶„)

#### 2-1. Streak Achievement íŠ¸ë¦¬ê±°

1. ì•± ì—´ê¸° â†’ Habit Tracker í™”ë©´
2. "21ì¼ ì—°ì† í…ŒìŠ¤íŠ¸ ìŠµê´€" ì°¾ê¸°
3. ì˜¤ëŠ˜ ë‚ ì§œì— **Green** í´ë¦­
4. ë¸Œë¼ìš°ì € ì½˜ì†” í™•ì¸ (F12)

**ì˜ˆìƒ ì½˜ì†” ì¶œë ¥:**
```javascript
[Streak Check] 21ì¼ ì—°ì† í…ŒìŠ¤íŠ¸ ìŠµê´€: 21 days total, 21 green days
âœ… streak_21 achievement recorded for ì•„ë¹ 
```

#### 2-2. Mastery Achievement íŠ¸ë¦¬ê±°

1. "30ì¼ ë§ˆìŠ¤í„°ë¦¬ í…ŒìŠ¤íŠ¸" ìŠµê´€ ì°¾ê¸°
2. ì˜¤ëŠ˜ ë‚ ì§œì— **Green** í´ë¦­
3. ì½˜ì†” í™•ì¸

**ì˜ˆìƒ ì½˜ì†” ì¶œë ¥:**
```javascript
[Streak Check] 30ì¼ ë§ˆìŠ¤í„°ë¦¬ í…ŒìŠ¤íŠ¸: 35 days total, 35 green days
âœ… habit_mastery achievement recorded for ì•„ë¹ 
```

#### 2-3. First Weakness Resolved (ì„ íƒ)

1. Learning Mode â†’ Weaknesses íƒ­
2. "í…ŒìŠ¤íŠ¸ìš© ì•½ì " ì¶”ê°€
3. "í•´ê²°" ë²„íŠ¼ í´ë¦­
4. ì½˜ì†” í™•ì¸

**ì˜ˆìƒ ì½˜ì†” ì¶œë ¥:**
```javascript
ğŸ‰ First weakness resolved achievement unlocked!
```

#### 2-4. Weekly Planner Perfect (ì„ íƒ)

1. Weekly Planner íƒ­
2. ìƒˆ ì£¼ê°„ ê³„íš ìƒì„±
3. íƒœìŠ¤í¬ 2ê°œ ì¶”ê°€
4. ëª¨ë‘ ì™„ë£Œ í‘œì‹œ (100%)
5. "ì£¼ê°„ ê³„íš ì™„ë£Œ" í´ë¦­
6. ì½˜ì†” í™•ì¸

**ì˜ˆìƒ ì½˜ì†” ì¶œë ¥:**
```javascript
ğŸ‰ Weekly planner perfect achievement unlocked!
```

---

### Step 3ï¸âƒ£: ê²°ê³¼ ê²€ì¦ (5ì´ˆ)

**íŒŒì¼:** `PHASE_5_3_VERIFY_RESULTS.sql`

1. Supabase SQL Editor ì—´ê¸°
2. `PHASE_5_3_VERIFY_RESULTS.sql` íŒŒì¼ ì „ì²´ ë³µì‚¬
3. SQL Editorì— ë¶™ì—¬ë„£ê¸°
4. "Run" ë²„íŠ¼ í´ë¦­
5. âœ… ê²°ê³¼ í™•ì¸!

**ì˜ˆìƒ ê²°ê³¼ (10ê°œ ì„¹ì…˜):**

```
ğŸ“‹ 1. ëª¨ë“  Progress Events
   - ëª¨ë“  ì´ë²¤íŠ¸ ëª©ë¡ (ì‹œê°„ìˆœ)

ğŸ¯ 2. Phase 5.3 ì‹ ê·œ ì´ë²¤íŠ¸
   - streak_21, habit_mastery, weekly_planner_perfect, first_weakness_resolved

ğŸ“Š 3. ì´ë²¤íŠ¸ íƒ€ì…ë³„ ì¹´ìš´íŠ¸
   - ê° ì´ë²¤íŠ¸ íƒ€ì…ë³„ ê°œìˆ˜

ğŸ”¥ 4. streak_21 ì´ë²¤íŠ¸ ìƒì„¸
   - habit_id, streak_count, habit_name

ğŸ’ 5. habit_mastery ì´ë²¤íŠ¸ ìƒì„¸
   - habit_id, green_days, habit_name

âœ¨ 6. weekly_planner_perfect ì´ë²¤íŠ¸ ìƒì„¸
   - plan_id, completion_rate, plan_title

ğŸ’ª 7. first_weakness_resolved ì´ë²¤íŠ¸ ìƒì„¸
   - weakness_id, weakness_description

âš ï¸ 8. ì¤‘ë³µ ì´ë²¤íŠ¸ í™•ì¸
   - ì •ìƒ: 0ê°œ í–‰

ğŸ 9. Phase 5.3 ë³´ìƒ ì •ì˜
   - 4ê°œ ì‹ ê·œ ë³´ìƒ

ğŸ‰ 10. ìµœì¢… ìš”ì•½
   - Total Events: ì „ì²´ ì´ë²¤íŠ¸ ìˆ˜
   - Phase 5.3 Events: 2~4ê°œ
   - streak_21: 1ê°œ
   - habit_mastery: 1ê°œ
   - weekly_planner_perfect: 0~1ê°œ
   - first_weakness_resolved: 0~1ê°œ
```

---

## ğŸ¯ ë¹ ë¥¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Step 1: í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„± ì™„ë£Œ
- [ ] Step 2-1: streak_21 íŠ¸ë¦¬ê±° í™•ì¸ (ì½˜ì†” ë¡œê·¸)
- [ ] Step 2-2: habit_mastery íŠ¸ë¦¬ê±° í™•ì¸ (ì½˜ì†” ë¡œê·¸)
- [ ] Step 2-3: first_weakness_resolved íŠ¸ë¦¬ê±° (ì„ íƒ)
- [ ] Step 2-4: weekly_planner_perfect íŠ¸ë¦¬ê±° (ì„ íƒ)
- [ ] Step 3: ê²€ì¦ ì¿¼ë¦¬ ì‹¤í–‰ ì™„ë£Œ
- [ ] ìµœì¢… í™•ì¸: Phase 5.3 Events = 2~4ê°œ

---

## ğŸ“ íŒŒì¼ êµ¬ì¡°

```
PHASE_5_3_INTEGRATED_TEST.sql    # 1ë‹¨ê³„: ë°ì´í„° ìƒì„±
PHASE_5_3_VERIFY_RESULTS.sql     # 3ë‹¨ê³„: ê²°ê³¼ ê²€ì¦
PHASE_5_3_TEST_GUIDE.md          # ìƒì„¸ ê°€ì´ë“œ (ì°¸ê³ ìš©)
PHASE_5_3_QUICK_START.md         # ì´ íŒŒì¼ (ë¹ ë¥¸ ì‹œì‘)
```

---

## â±ï¸ ì˜ˆìƒ ì†Œìš” ì‹œê°„

- **ìµœì†Œ í…ŒìŠ¤íŠ¸** (í•„ìˆ˜ë§Œ): 5ë¶„
  - Step 1: ë°ì´í„° ìƒì„± (5ì´ˆ)
  - Step 2-1, 2-2: UI íŠ¸ë¦¬ê±° (3ë¶„)
  - Step 3: ê²€ì¦ (5ì´ˆ)

- **ì „ì²´ í…ŒìŠ¤íŠ¸** (ëª¨ë“  ê¸°ëŠ¥): 10ë¶„
  - Step 1: ë°ì´í„° ìƒì„± (5ì´ˆ)
  - Step 2-1~2-4: ëª¨ë“  íŠ¸ë¦¬ê±° (7ë¶„)
  - Step 3: ê²€ì¦ (5ì´ˆ)

---

## ğŸ› ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: Step 1 ì‹¤í–‰ ì‹œ ì—ëŸ¬

**ì¦ìƒ:**
```
ERROR: null value in column "week_end_date"
```

**í•´ê²°:**
íŒŒì¼ì´ ìµœì‹  ë²„ì „ì¸ì§€ í™•ì¸í•˜ì„¸ìš”. `week_end_date` í•„ë“œê°€ í¬í•¨ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

### ë¬¸ì œ 2: ì½˜ì†”ì— achievement ë©”ì‹œì§€ ì—†ìŒ

**ì›ì¸:**
- 60ì¼ ì´ìƒ ì˜¤ë˜ëœ ë°ì´í„°
- ìŠµê´€ ì´ë¦„ì´ ì£¼ë§ˆë‹¤ ë‹¤ë¦„

**í•´ê²°:**
Step 1ì„ ë‹¤ì‹œ ì‹¤í–‰í•´ì„œ ìµœì‹  ë°ì´í„°ë¥¼ ìƒì„±í•˜ì„¸ìš”.

### ë¬¸ì œ 3: Step 3ì—ì„œ Phase 5.3 Events = 0

**ì›ì¸:**
Step 2ë¥¼ ê±´ë„ˆë›°ì—ˆê±°ë‚˜ UIì—ì„œ ì—ëŸ¬ ë°œìƒ

**í•´ê²°:**
1. ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì—ëŸ¬ í™•ì¸
2. Step 2ë¥¼ ë‹¤ì‹œ ì‹¤í–‰
3. ì½˜ì†” ë¡œê·¸ê°€ ë‚˜íƒ€ë‚˜ëŠ”ì§€ í™•ì¸

---

## ğŸ‰ ì„±ê³µ ê¸°ì¤€

âœ… **ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼:**
- Step 1: 56ê°œ green records ìƒì„±
- Step 2: ì½˜ì†”ì— achievement ë©”ì‹œì§€ 2~4ê°œ
- Step 3: Phase 5.3 Events = 2~4ê°œ
- ì¤‘ë³µ ì´ë²¤íŠ¸ = 0ê°œ

---

**ì‘ì„±ì¼:** 2025-10-27
**Phase:** 5.3 Advanced Reward Triggers
**ìƒíƒœ:** âœ… í…ŒìŠ¤íŠ¸ ì¤€ë¹„ ì™„ë£Œ
